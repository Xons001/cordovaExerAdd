<html>
	<head>
		<title>Web Sean</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<style type="text/css">
			#list {
				background-color: orange;
			}
		</style>
	</head>
	<body>
		<ol id="list">
			
		</ol>
		
		<button onclick="addElem()">Insertar elemento</button>
		

		
		<input id="datos" type="text">
		
		<script type="text/javascript">
		
			//$("#second").html("EvEn different");
			var numId = localStorage.length+1; 
			localStorage.setItem("0", "Primer elemento");
			localStorage.setItem("1", "Segundo elemento");
			
			for (var i = 0; i < localStorage.length; i++){
				var liLocal = localStorage.getItem(localStorage.key(i));
				var elementos = $("<li>" + liLocal + " <button>Eliminar</button></li>");
				
				$("#list").append(elementos);				
			}
			
			//localStorage.removeItem("Tabla");
			
			function addElem() {
				var list = document.getElementById("list");
				var newEl = document.createElement("li");
				var texto = document.getElementById("datos").value;
								
				//newEl.innerHTML = texto + "<button onclick='removeElem()'>Eliminar</button>";
							
				//list.appendChild(newEl);
				
				//list.appendChild(newEl);
				localStorage.setItem(numId, texto);
				
				numId++;
					
				var list = $("#list");
				
				var newEl = $("<li>" + texto + " <button>Eliminar</button></li>");
				$("#list").append(newEl);
				
			}
			$('ol').on('click','button', function(){
				var txt = $(this).closest("li").text();
				var substr = txt.substr(0, txt.length-9);
				
				var keys = Object.keys(localStorage);
				console.log(keys);
				for (var i = 0; i < localStorage.length; i++){
					var value = localStorage.getItem(localStorage.key(i));
					if (value == substr){
						localStorage.removeItem(keys[i]);
					}
				} 
				
				$(this).closest("li").remove();
				console.log(substr);
					
			});			
		</script>
	</body>
</html>